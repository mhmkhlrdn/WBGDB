<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" href="./Art/logo.png" />
    <link rel="stylesheet" href="style.css">
    <title>The Great Entwining</title>
    
  </head>
  <body>
    <div class="container">
      <header>
        <div class="title">
          <img src="./Art/logo.png" alt="Worlds Beyond" width="28" height="28" />
          <h1 data-en="Shadowverse: Worlds Beyond • Web of the Entwining" data-jp="WBGDB">Shadowverse: Worlds Beyond • Web of the Entwining</h1>
        </div>
        <nav class="tabs" role="tablist">
          <button class="tab-btn active" data-tab="voices" role="tab" aria-selected="true">Cards</button>
          <button class="tab-btn" data-tab="qna" role="tab" aria-selected="false">Q&A</button>
          <button class="tab-btn" data-tab="problems" role="tab" aria-selected="false">Known Problems</button>
          <button class="tab-btn" data-tab="credits" role="tab" aria-selected="false">Credits</button>
        </nav>
        <div class="lang-toggle-container">
          <button id="back-to-top" class="back-to-top-btn" aria-label="Back to top">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 19V5M5 12l7-7 7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="lang-toggle-wrapper">
            <button id="voice-lang-toggle" class="lang-toggle-btn">
              <span class="lang-text">JP</span>
            </button>
            <span class="lang-hint-text">Voice Language</span>
            <span class="keyboard-shortcut" title="Keyboard shortcut: Ctrl+L">Ctrl+L</span>
          </div>
        </div>
      </header>

      <section id="voices" class="active" role="tabpanel" aria-labelledby="tab-voices">
        <div class="search-row">
        <div class="search-wrap">
          <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 21l-4.2-4.2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/>
          </svg>
          <input type="text" id="search" placeholder="Search cards..." aria-label="Search cards" data-en="Search cards..." data-jp="カードを検索..." />
          <span class="keyboard-shortcut" title="Keyboard shortcut: Ctrl+F">Ctrl+F</span>
        </div>
          <select id="ui-lang-select" class="ui-lang-select" title="Select UI Language">
            <option value="jp">日本語</option>
            <option value="en">English</option>
          </select>
          <div class="filter" style="background:transparent;border:none;box-shadow:none;padding:0;margin-left:auto;">
            <button id="filters-toggle-btn" type="button" class="filter-reset-btn" aria-expanded="true" data-en="Hide Filters" data-jp="フィルターを隠す">Hide Filters</button>
            <span class="keyboard-shortcut" title="Keyboard shortcut: Ctrl+G">Ctrl+G</span>
          </div>
        </div>
        <div class="filters-section" id="filters">
          <div class="filter-group">
            <h3 class="filter-group-title" data-en="Card Properties" data-jp="カードプロパティ">Card Properties</h3>
            <div class="filters-row">
              <div class="filter">
                <label for="filter-rarity" data-en="Rarity" data-jp="レアリティ">Rarity</label>
                <select id="filter-rarity">
                  <option value="" data-en="Any" data-jp="すべて">Any</option>
                  <option value="1" data-en="Bronze" data-jp="ブロンズ">Bronze</option>
                  <option value="2" data-en="Silver" data-jp="シルバー">Silver</option>
                  <option value="3" data-en="Gold" data-jp="ゴールド">Gold</option>
                  <option value="4" data-en="Legendary" data-jp="レジェンド">Legendary</option>
                </select>
              </div>
              <div class="filter">
                <label for="filter-type" data-en="Type" data-jp="タイプ">Type</label>
                <select id="filter-type">
                  <option value="" data-en="Any" data-jp="すべて">Any</option>
                  <option value="1" data-en="Follower" data-jp="フォロワー">Follower</option>
                  <option value="amulet" data-en="Amulet" data-jp="アミュレット">Amulet</option>
                  <option value="4" data-en="Spell" data-jp="スペル">Spell</option>
                </select>
              </div>
              <div class="filter">
                <label for="filter-class" data-en="Class" data-jp="クラス">Class</label>
                <select id="filter-class">
                  <option value="">Any</option>
                </select>
              </div>
              <div class="filter">
                <label for="filter-set" data-en="Set" data-jp="セット">Set</label>
                <select id="filter-set">
                  <option value="" data-en="Any" data-jp="すべて">Any</option>
                  <option value="10000" data-en="Basic" data-jp="ベーシック">Basic</option>
                  <option value="10001" data-en="Legends Rise" data-jp="伝説の幕開">Legends Rise</option>
                  <option value="10002" data-en="Infinity Evolved" data-jp="インフィニティ・エボルヴ">Infinity Evolved</option>
                  <option value="10003" data-en="Heirs of the Omen" data-jp="絶傑の継承者">Heirs of the Omen</option>
                </select>
              </div>
              <div class="filter">
                <label for="filter-token" data-en="Token" data-jp="トークン">Token</label>
                <select id="filter-token">
                  <option value="all" data-en="All cards" data-jp="すべてのカード">All cards</option>
                  <option value="exclude" data-en="No tokens" data-jp="トークンなし">No tokens</option>
                  <option value="only" data-en="Tokens only" data-jp="トークンのみ">Tokens only</option>
                </select>
              </div>
            </div>
          </div>

          <div class="filter-group">
            <h3 class="filter-group-title" data-en="Stats" data-jp="ステータス">Stats</h3>
            <div class="filters-row">
              <div class="filter">
                <label for="filter-cost-min" data-en="Cost" data-jp="コスト">Cost</label>
                <div class="range-inputs">
                  <input type="number" id="filter-cost-min" min="0" placeholder="min" data-en="min" data-jp="最小" />
                  <span class="range-separator">–</span>
                  <input type="number" id="filter-cost-max" min="0" placeholder="max" data-en="max" data-jp="最大" />
                </div>
              </div>
              <div class="filter">
                <label for="filter-atk-min" data-en="ATK" data-jp="攻撃力">ATK</label>
                <div class="range-inputs">
                  <input type="number" id="filter-atk-min" min="0" placeholder="min" data-en="min" data-jp="最小" />
                  <span class="range-separator">–</span>
                  <input type="number" id="filter-atk-max" min="0" placeholder="max" data-en="max" data-jp="最大" />
                </div>
              </div>
              <div class="filter">
                <label for="filter-life-min" data-en="LIFE" data-jp="体力">LIFE</label>
                <div class="range-inputs">
                  <input type="number" id="filter-life-min" min="0" placeholder="min" data-en="min" data-jp="最小" />
                  <span class="range-separator">–</span>
                  <input type="number" id="filter-life-max" min="0" placeholder="max" data-en="max" data-jp="最大" />
                </div>
              </div>
            </div>
          </div>

          <div class="filter-group">
            <h3 class="filter-group-title" data-en="Content & Creators" data-jp="コンテンツとクリエイター">Content & Creators</h3>
            <div class="filters-row">
              <div class="filter">
                <label for="filter-illustrator" data-en="Illustrator" data-jp="イラストレーター">Illustrator</label>
                <input type="text" id="filter-illustrator" list="illustrator-options" placeholder="Type or select illustrator" data-en="Type or select illustrator" data-jp="イラストレーターを入力または選択" />
                <datalist id="illustrator-options">
                </datalist>
              </div>
              <div class="filter">
                <label for="filter-cv" data-en="CV" data-jp="声優">CV</label>
                <input type="text" id="filter-cv" list="cv-options" placeholder="Type or select CV" data-en="Type or select CV" data-jp="声優を入力または選択" />
                <datalist id="cv-options">
                </datalist>
              </div>
              <div class="filter">
                <label for="filter-voices" data-en="Voices" data-jp="ボイス">Voices</label>
                <select id="filter-voices">
                  <option value="both" data-en="Both" data-jp="両方">Both</option>
                  <option value="with" data-en="With voices" data-jp="ボイスあり">With voices</option>
                  <option value="without" data-en="Without voices" data-jp="ボイスなし">Without voices</option>
                </select>
              </div>
              <div class="filter">
                <label for="filter-alternate" data-en="Alternate Art" data-jp="カードスタイル">Alternate Art</label>
                <select id="filter-alternate">
                  <option value="all" data-en="All cards" data-jp="すべてのカード">All cards</option>
                  <option value="with" data-en="With alternate art" data-jp="カードスタイルあり">With alternate art</option>
                  <option value="without" data-en="Without alternate art" data-jp="カードスタイルなし">Without alternate art</option>
                </select>
              </div>
              <!-- <div class="filter" id="filter-many-voices-container" style="display: none;">
                <label for="filter-many-voices">Many Voices</label>
                <select id="filter-many-voices">
                  <option value="all">All cards</option>
                  <option value="many">5+ voice lines</option>
                  <option value="few">Less than 5</option>
                </select>
              </div> -->
            </div>
          </div>

          <div class="filter-group">
            <h3 class="filter-group-title" data-en="Display & Sort" data-jp="表示とソート">Display & Sort</h3>
            <div class="filters-row">
              <div class="filter">
                <label for="sort-by" data-en="Sort by" data-jp="ソート順">Sort by</label>
                <select id="sort-by">
                  <option value="alpha" data-en="Alphabetical" data-jp="アルファベット順">Alphabetical</option>
                  <option value="cost" data-en="Cost" data-jp="コスト">Cost</option>
                  <option value="atk" data-en="ATK" data-jp="攻撃力">ATK</option>
                  <option value="life" data-en="LIFE" data-jp="体力">LIFE</option>
                  <option value="class" data-en="Class" data-jp="クラス">Class</option>
                  <option value="rarity" data-en="Rarity" data-jp="レアリティ">Rarity</option>
                </select>
              </div>
              <div class="filter">
                <label for="sort-order" data-en="Order" data-jp="順序">Order</label>
                <select id="sort-order">
                  <option value="asc" data-en="Ascending" data-jp="昇順">Ascending</option>
                  <option value="desc" data-en="Descending" data-jp="降順">Descending</option>
                </select>
              </div>
              <div class="filter">
                <label for="view-mode" data-en="View mode" data-jp="表示モード">View mode</label>
                <select id="view-mode">
                  <option value="list" data-en="List" data-jp="リスト">List</option>
                  <option value="waterfall" data-en="Waterfall" data-jp="ウォーターフォール">Waterfall</option>
                </select>
              </div>
              <div class="filter filter-actions">
                <button id="filters-reset" type="button" class="filter-reset-btn" aria-label="Reset all filters">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M21 3v5h-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M3 21v-5h5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span data-en="Reset All" data-jp="すべてリセット">Reset All</span>
                </button>
                <span class="keyboard-shortcut" title="Keyboard shortcut: Ctrl+R">Ctrl+R</span>
              </div>
            </div>
          </div>
        </div>
        
    <div id="cards"></div>
      </section>

      <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-hidden="true">
        <button class="lightbox-nav prev" id="lightbox-prev" aria-label="Previous card">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="lightbox-shortcut" title="Keyboard shortcut: A or ←">A</span>
        </button>
        <button class="lightbox-nav next" id="lightbox-next" aria-label="Next card">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="lightbox-shortcut" title="Keyboard shortcut: D or →">D</span>
        </button>
        <div class="lightbox-content">
          <button class="lightbox-close" id="lightbox-close" aria-label="Close">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M18.3 5.71L12 12.01l-6.29-6.3-1.42 1.42 6.29 6.29-6.3 6.29 1.42 1.42 6.3-6.29 6.29 6.29 1.42-1.42-6.29-6.29 6.29-6.3z"/></svg>
          </button>
          <div class="lightbox-img-wrap">
            <img id="lightbox-img" class="lightbox-img" alt="Card image" />
          </div>
          <div class="lightbox-side">
            <h3 id="lightbox-title" class="lightbox-title"></h3>
            <div class="lightbox-meta" id="lightbox-meta"></div>
            <div class="lightbox-flavor" id="lightbox-flavor"></div>
            <div class="lightbox-voices" id="lightbox-voices">
              <h4 class="lightbox-voices-title">Voice Lines</h4>
              <div class="lightbox-voices-list" id="lightbox-voices-list"></div>
            </div>
            <div class="lightbox-controls">
              <button id="lightbox-toggle" class="lightbox-btn" type="button">Show: Evo</button>
              <button id="lightbox-download" class="lightbox-btn" type="button">Open Image</button>
              <button id="lightbox-download-img" class="lightbox-btn" type="button">Download Image</button>
            </div>
          </div>
        </div>
      </div>

      <section id="qna" role="tabpanel" aria-labelledby="tab-qna">
        <div class="qna">
          <h2>Q&A</h2>
          <div class="qna-item">
            <p class="q">What is this?</p>
            <p class="a">A static site hosted by Github Page for browsing and viewing various data of cards from the game "Shadowverse Worlds Beyond".</p>
          </div>
          <div class="qna-item">
            <p class="q">Where did you gather all the audio data?</p>
            <p class="a">All of them are from the in-game card library that I've recorded using Audacity.</p>
          </div>
          <div class="qna-item">
            <p class="q">How did you record it?</p>
            <p class="a">I wrote a python automation script (see autorun.py in the repo) for clicking the record button, traversing to the card, playing the voice lines, saving the recording, and splitting it into separate lines.</p>
          </div>
          <div class="qna-item">
            <p class="q">Why are some of the cards not listed?</p>
            <p class="a">The data is gathered from the in-game card library, therefore if my account don't have a specific card, it will not be listed in this website.</p>
          </div>
          <div class="qna-item">
            <p class="q">Some of the voices are cutting-off midway.</p>
            <p class="a">Please refer to the known problems tab.</p>
          </div>
          <div class="qna-item">
            <p class="q">Some of the card names are wrong or have typos.</p>
            <p class="a">I gathered the data for the card names through OCR (Screen to Text) but the accuracy isn't perfect so letters like "f" might be mistaken for "i".</p>
          </div>
          <div class="qna-item">
            <p class="q">Will this site be updated?</p>
            <p class="a">Yes.</p>
          </div>
          <div class="qna-item">
            <p class="q">Is it open source?</p>
            <p class="a">Yes. https://github.com/mhmkhlrdn/WBGDB</p>
          </div>
          <div class="qna-item">
            <p class="q">Will you be hosting the site in the future?</p>
            <p class="a">If I have the funds.</p>
          </div>
          <div class="qna-item">
            <p class="q">I have a complaint or suggestion, where do I send them to?</p>
            <p class="a">You may contact me via discord @Arishulmr or X @Arishulmer.</p>
          </div>
        </div>
      </section>
      <section id="problems" role="tabpanel" aria-labelledby="tab-problems">
        <div class="qna">
          <h2>Known Problems</h2>
          <div class="qna-item">
            <p class="q">Problematic Voicelines</p>
            <p class="a">Due to the early automation script still being incomplete, some cards' voice lines are partially cut off or not being properly split.</p>
            <div class="qna-item">
              <p class="q">Known affected cards</p>
              <p class="a">(None)</p>
            </div>
          </div>
          <div class="qna-item">
            <p class="q">Missing Cards</p>
            <p class="a">Due to me not having all cards and alt arts, these voice lines are currently not in the database.</p>
            <div class="qna-item">
              <p class="q">Known missing cards</p>
              <p class="a">Filene, Krulle, Amelia, Gildaria, Sinciro, Norman, Yurius, Fennie, Raio.</p>
            </div>
            <div class="qna-item">
              <p class="q">Known missing alt-arts</p>
              <p class="a">Filene, Dragonsign, Puppet, Forte, Olivia, Gildaria, Sinciro, Titania, Albert, Charon, Ceres, Fairy Convocation, Aether, Cerberus, Dimension Climb, Orchis, Galmieux.</p>
            </div>
          </div>
          <div class="qna-item">
            <p class="q">Missing Full Arts</p>
            <p class="a">A lot of token cards don't yet have the full-arts inserted, we will try to provide them as soon as possible.</p>
          </div>
      </section>

      <section id="credits" role="tabpanel" aria-labelledby="tab-credits">
        <div class="qna">
          <h2>Credits</h2>
          <div class="qna-item">
            <p class="q">Full-Art Images</p>
            <p class="a">Provided by <strong>Xtopher17</strong> - High-quality full-art card images used in the lightbox view.</p>
          </div>
        </div>
      </section>
    </div>

    <script src="script.js"></script>
  </body>
</html>
