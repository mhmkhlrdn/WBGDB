<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" href="./Art/logo.png" />
    <link rel="stylesheet" href="style.css">
    <title>The Great Entwining</title>
    
  </head>
  <body>
    <div class="container">
      <header>
        <div class="title">
          <img src="./Art/logo.png" alt="Worlds Beyond" width="28" height="28" />
          <h1>Shadowverse: Worlds Beyond • Web of the Entwining</h1>
        </div>
        <nav class="tabs" role="tablist">
          <button class="tab-btn active" data-tab="voices" role="tab" aria-selected="true">Cards</button>
          <button class="tab-btn" data-tab="qna" role="tab" aria-selected="false">Q&A</button>
          <button class="tab-btn" data-tab="problems" role="tab" aria-selected="false">Known Problems</button>
          <button class="tab-btn" data-tab="credits" role="tab" aria-selected="false">Credits</button>
        </nav>
        <div class="lang-toggle-container">
          <button id="back-to-top" class="back-to-top-btn" aria-label="Back to top">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 19V5M5 12l7-7 7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="lang-toggle-wrapper">
            <button id="lang-toggle" class="lang-toggle-btn">
              <span class="lang-text">JP</span>
            </button>
            <span class="lang-hint-text">Click to change Language</span>
          </div>
        </div>
      </header>

      <section id="voices" class="active" role="tabpanel" aria-labelledby="tab-voices">
        <div class="search-row">
          <div class="search-wrap">
            <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 21l-4.2-4.2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/>
            </svg>
            <input type="text" id="search" placeholder="Search cards..." aria-label="Search cards" />
          </div>
          <div class="filter" style="background:transparent;border:none;box-shadow:none;padding:0;margin-left:auto;">
            <button id="filters-toggle-btn" type="button" class="filter-reset-btn" aria-expanded="true">Hide Filters</button>
          </div>
        </div>
        <div class="filters-section" id="filters">
          <div class="filter-group">
            <h3 class="filter-group-title">Card Properties</h3>
            <div class="filters-row">
              <div class="filter">
                <label for="filter-rarity">Rarity</label>
                <select id="filter-rarity">
                  <option value="">Any</option>
                  <option value="1">Bronze</option>
                  <option value="2">Silver</option>
                  <option value="3">Gold</option>
                  <option value="4">Legendary</option>
                </select>
              </div>
              <div class="filter">
                <label for="filter-type">Type</label>
                <select id="filter-type">
                  <option value="">Any</option>
                  <option value="1">Follower</option>
                  <option value="amulet">Amulet</option>
                  <option value="4">Spell</option>
                </select>
              </div>
              <div class="filter">
                <label for="filter-class">Class</label>
                <select id="filter-class">
                  <option value="">Any</option>
                </select>
              </div>
              <div class="filter">
                <label for="filter-set">Set</label>
                <select id="filter-set">
                  <option value="">Any</option>
                  <option value="10000">Basic</option>
                  <option value="10001">Legends Rise</option>
                  <option value="10002">Infinity Evolved</option>
                  <option value="10003">Heirs of the Omen</option>
                </select>
              </div>
              <div class="filter">
                <label for="filter-token">Token</label>
                <select id="filter-token">
                  <option value="all">All cards</option>
                  <option value="exclude">No tokens</option>
                  <option value="only">Tokens only</option>
                </select>
              </div>
            </div>
          </div>

          <div class="filter-group">
            <h3 class="filter-group-title">Stats</h3>
            <div class="filters-row">
              <div class="filter">
                <label for="filter-cost-min">Cost</label>
                <div class="range-inputs">
                  <input type="number" id="filter-cost-min" min="0" placeholder="min" />
                  <span class="range-separator">–</span>
                  <input type="number" id="filter-cost-max" min="0" placeholder="max" />
                </div>
              </div>
              <div class="filter">
                <label for="filter-atk-min">ATK</label>
                <div class="range-inputs">
                  <input type="number" id="filter-atk-min" min="0" placeholder="min" />
                  <span class="range-separator">–</span>
                  <input type="number" id="filter-atk-max" min="0" placeholder="max" />
                </div>
              </div>
              <div class="filter">
                <label for="filter-life-min">LIFE</label>
                <div class="range-inputs">
                  <input type="number" id="filter-life-min" min="0" placeholder="min" />
                  <span class="range-separator">–</span>
                  <input type="number" id="filter-life-max" min="0" placeholder="max" />
                </div>
              </div>
            </div>
          </div>

          <div class="filter-group">
            <h3 class="filter-group-title">Content & Creators</h3>
            <div class="filters-row">
              <div class="filter">
                <label for="filter-illustrator">Illustrator</label>
                <input type="text" id="filter-illustrator" list="illustrator-options" placeholder="Type or select illustrator" />
                <datalist id="illustrator-options">
                </datalist>
              </div>
              <div class="filter">
                <label for="filter-cv">CV</label>
                <input type="text" id="filter-cv" list="cv-options" placeholder="Type or select CV" />
                <datalist id="cv-options">
                </datalist>
              </div>
              <div class="filter">
                <label for="filter-voices">Voices</label>
                <select id="filter-voices">
                  <option value="both">Both</option>
                  <option value="with">With voices</option>
                  <option value="without">Without voices</option>
                </select>
              </div>
              <div class="filter">
                <label for="filter-alternate">Alternate Art</label>
                <select id="filter-alternate">
                  <option value="all">All cards</option>
                  <option value="with">With alternate art</option>
                  <option value="without">Without alternate art</option>
                </select>
              </div>
              <!-- <div class="filter" id="filter-many-voices-container" style="display: none;">
                <label for="filter-many-voices">Many Voices</label>
                <select id="filter-many-voices">
                  <option value="all">All cards</option>
                  <option value="many">5+ voice lines</option>
                  <option value="few">Less than 5</option>
                </select>
              </div> -->
            </div>
          </div>

          <div class="filter-group">
            <h3 class="filter-group-title">Display & Sort</h3>
            <div class="filters-row">
              <div class="filter">
                <label for="sort-by">Sort by</label>
                <select id="sort-by">
                  <option value="alpha">Alphabetical</option>
                  <option value="cost">Cost</option>
                  <option value="atk">ATK</option>
                  <option value="life">LIFE</option>
                  <option value="class">Class</option>
                  <option value="rarity">Rarity</option>
                </select>
              </div>
              <div class="filter">
                <label for="sort-order">Order</label>
                <select id="sort-order">
                  <option value="asc">Ascending</option>
                  <option value="desc">Descending</option>
                </select>
              </div>
              <div class="filter">
                <label for="view-mode">View mode</label>
                <select id="view-mode">
                  <option value="list">List</option>
                  <option value="waterfall">Waterfall</option>
                </select>
              </div>
              <div class="filter filter-actions">
                <button id="filters-reset" type="button" class="filter-reset-btn" aria-label="Reset all filters">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M21 3v5h-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M3 21v-5h5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  Reset All
                </button>
              </div>
            </div>
          </div>
        </div>
        
    <div id="cards"></div>
      </section>

      <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-hidden="true">
        <button class="lightbox-nav prev" id="lightbox-prev" aria-label="Previous card">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <button class="lightbox-nav next" id="lightbox-next" aria-label="Next card">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="lightbox-content">
          <button class="lightbox-close" id="lightbox-close" aria-label="Close">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M18.3 5.71L12 12.01l-6.29-6.3-1.42 1.42 6.29 6.29-6.3 6.29 1.42 1.42 6.3-6.29 6.29 6.29 1.42-1.42-6.29-6.29 6.29-6.3z"/></svg>
          </button>
          <div class="lightbox-img-wrap">
            <img id="lightbox-img" class="lightbox-img" alt="Card image" />
          </div>
          <div class="lightbox-side">
            <h3 id="lightbox-title" class="lightbox-title"></h3>
            <div class="lightbox-meta" id="lightbox-meta"></div>
            <div class="lightbox-flavor" id="lightbox-flavor"></div>
            <div class="lightbox-voices" id="lightbox-voices">
              <h4 class="lightbox-voices-title">Voice Lines</h4>
              <div class="lightbox-voices-list" id="lightbox-voices-list"></div>
            </div>
            <div class="lightbox-controls">
              <button id="lightbox-toggle" class="lightbox-btn" type="button">Show: Evo</button>
              <button id="lightbox-download" class="lightbox-btn" type="button">Open Image</button>
              <button id="lightbox-download-img" class="lightbox-btn" type="button">Download Image</button>
            </div>
          </div>
        </div>
      </div>

      <section id="qna" role="tabpanel" aria-labelledby="tab-qna">
        <div class="qna">
          <h2>Q&A</h2>
          <div class="qna-item">
            <p class="q">What is this?</p>
            <p class="a">A static site hosted by Github Page for browsing and viewing various data of cards from the game "Shadowverse Worlds Beyond".</p>
          </div>
          <div class="qna-item">
            <p class="q">Where did you gather all the audio data?</p>
            <p class="a">All of them are from the in-game card library that I've recorded using Audacity.</p>
          </div>
          <div class="qna-item">
            <p class="q">How did you record it?</p>
            <p class="a">I wrote a python automation script (see autorun.py in the repo) for clicking the record button, traversing to the card, playing the voice lines, saving the recording, and splitting it into separate lines.</p>
          </div>
          <div class="qna-item">
            <p class="q">Why are some of the cards not listed?</p>
            <p class="a">The data is gathered from the in-game card library, therefore if my account don't have a specific card, it will not be listed in this website.</p>
          </div>
          <div class="qna-item">
            <p class="q">Some of the voices are cutting-off midway.</p>
            <p class="a">Please refer to the known problems tab.</p>
          </div>
          <div class="qna-item">
            <p class="q">Some of the card names are wrong or have typos.</p>
            <p class="a">I gathered the data for the card names through OCR (Screen to Text) but the accuracy isn't perfect so letters like "f" might be mistaken for "i".</p>
          </div>
          <div class="qna-item">
            <p class="q">Will this site be updated?</p>
            <p class="a">Yes.</p>
          </div>
          <div class="qna-item">
            <p class="q">Is it open source?</p>
            <p class="a">Yes. https://github.com/mhmkhlrdn/WBGDB</p>
          </div>
          <div class="qna-item">
            <p class="q">Will you be hosting the site in the future?</p>
            <p class="a">If I have the funds.</p>
          </div>
          <div class="qna-item">
            <p class="q">I have a complaint or suggestion, where do I send them to?</p>
            <p class="a">You may contact me via discord @Arishulmr or X @Arishulmer.</p>
          </div>
        </div>
      </section>
      <section id="problems" role="tabpanel" aria-labelledby="tab-problems">
        <div class="qna">
          <h2>Known Problems</h2>
          <div class="qna-item">
            <p class="q">Problematic Voicelines</p>
            <p class="a">Due to the early automation script still being incomplete, some cards' voice lines are partially cut off or not being properly split.</p>
            <div class="qna-item">
              <p class="q">Known affected cards</p>
              <p class="a">(None)</p>
            </div>
          </div>
          <div class="qna-item">
            <p class="q">Missing Cards</p>
            <p class="a">Due to me not having all cards and alt arts, these data are currently not in the database.</p>
            <div class="qna-item">
              <p class="q">Known missing cards</p>
              <p class="a">Filene, Krulle, Amelia, Gildaria, Sinciro, Norman, Yurius, Fennie, Raio.</p>
            </div>
            <div class="qna-item">
              <p class="q">Known missing alt-arts</p>
              <p class="a">Filene, Dragonsign, Puppet, Forte, Olivia, Gildaria, Sinciro, Titania, Albert, Charon, Ceres, Fairy Convocation, Aether, Cerberus, Dimension Climb, Orchis, Galmieux.</p>
            </div>
          </div>
          <div class="qna-item">
            <p class="q">Missing Full Arts</p>
            <p class="a">A lot of token cards don't yet have the full-arts inserted, we will try to provide them as soon as possible.</p>
          </div>
      </section>

      <section id="credits" role="tabpanel" aria-labelledby="tab-credits">
        <div class="qna">
          <h2>Credits</h2>
          <div class="qna-item">
            <p class="q">Full-Art Images</p>
            <p class="a">Provided by <strong>Xtopher17</strong> - High-quality full-art card images used in the lightbox view.</p>
          </div>
        </div>
      </section>
    </div>

    <script src="script.js"></script>
  </body>
</html>
